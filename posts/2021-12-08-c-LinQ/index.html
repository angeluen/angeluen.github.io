<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="EnRU" /><meta property="og:locale" content="en" /><meta name="description" content="C, C++, C#" /><meta property="og:description" content="C, C++, C#" /><link rel="canonical" href="https://angeluen.github.io/posts/2021-12-08-c-LinQ/" /><meta property="og:url" content="https://angeluen.github.io/posts/2021-12-08-c-LinQ/" /><meta property="og:site_name" content="EnRU" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-12-15T10:58:14+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="EnRU" /><meta name="twitter:site" content="@angeluen" /><meta name="google-site-verification" content="BAwKmsfYG4BVdZikWBy-2IqVfI-YbjGNHkfaBD8Lwxg" /> <script type="application/ld+json"> {"description":"C, C++, C#","url":"https://angeluen.github.io/posts/2021-12-08-c-LinQ/","@type":"BlogPosting","headline":"EnRU","dateModified":"2021-12-15T10:57:54+09:00","datePublished":"2021-12-15T10:58:14+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://angeluen.github.io/posts/2021-12-08-c-LinQ/"},"@context":"https://schema.org"}</script><title> | EnRU</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="EnRU"><meta name="application-name" content="EnRU"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> </a></div><div class="site-title mt-3"> <a href="/">EnRU</a></div><div class="site-subtitle font-italic">Server Dev</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/angeluen" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/angeluen" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['angeluen','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span></span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip></h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> kimminjun </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Dec 15, 2021, 10:58 AM +0900" >Dec 15<i class="unloaded">2021-12-15T10:58:14+09:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Wed, Dec 15, 2021, 10:57 AM +0900" >Dec 15<i class="unloaded">2021-12-15T10:57:54+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="657 words">3 min read</span></div></div><div class="post-content"><h2 id="01-linq-란">01. LinQ 란?</h2><p><code class="language-plaintext highlighter-rouge">Language-Intergrated Query</code> 약자로 컬렉션 형태의 모든 데이터의 조건을 걸어 필터링을 할 수 있는 기능이다. 일반적으로는 쿼리문을 작성하나 C#에서는 다양한 편의성을 제공해준다.</p><p>C#에서 대표적인 LinQ 사용법을 배워보자.</p><hr /><h2 id="02-linq---쿼리">02. LinQ - 쿼리</h2><p>다음과 같은 데이터가 있다고 생각해보자</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span text-data=" C# "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kt">int</span><span class="p">[]</span> <span class="n">data</span> <span class="p">=</span> <span class="p">{</span><span class="m">75</span><span class="p">,</span> <span class="m">23</span><span class="p">,</span> <span class="m">32</span><span class="p">,</span> <span class="m">100</span><span class="p">,</span> <span class="m">54</span><span class="p">};</span>
</pre></table></code></div></div><p>정렬이 되어 있지 않고 원하는 데이터를 얻고 싶을다면 어떻게 해야할까? 만약 LinQ 를 안쓰고 40 이하의 값을 찾는다면 이렇게 할 수 있다.</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span text-data=" C# "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">foreach</span><span class="p">(</span><span class="kt">var</span> <span class="n">index</span> <span class="k">in</span> <span class="n">score</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">index</span> <span class="p">&lt;=</span> <span class="m">40</span><span class="p">)</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">index</span> <span class="p">+</span> <span class="s">" "</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>이러한 방식도 문제가 없지만 매번 조건을 걸어서 데이터를 추출하기에는 번거롭고 가독성도 떨어진다. 여기서 LinQ를 이용하다면 다음과 같이 변환이 가능하다.</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span text-data=" C# "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">result</span> <span class="p">=</span> 
    <span class="k">from</span> <span class="n">row</span> <span class="k">in</span> <span class="n">data</span>
    <span class="k">where</span> <span class="n">row</span> <span class="p">&lt;=</span> <span class="m">40</span>
    <span class="k">select</span> <span class="n">row</span><span class="p">;</span>

<span class="k">foreach</span><span class="p">(</span><span class="kt">var</span> <span class="n">index</span> <span class="k">in</span> <span class="n">result</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">index</span> <span class="p">+</span> <span class="s">" "</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>이런식으로 쿼리를 작성해 원하는 조건의 데이터를 추출 할 수 있다.</p><hr /><h2 id="03-linq---select-where">03. LinQ - Select, Where</h2><p>C#에서는 편의성을 위해 Select 함수와 Where 함수를 제공한다. 두 함수는 람다식을 이용해 조건을 넣어준다.</p><p>각 함수의 기능은 다음과 같다.</p><p>Select절 - 컬렉션에서 각 요소를 원하는 시퀀스로 변환한다.</p><p>Where절 - 컬렉션에서 결과를 제한하는 절. Where 조건에 맞는 요소만 결과 시퀀스에 출력된다.</p><hr /><h2 id="04-linq-장단점-정리">04. LinQ 장단점 정리</h2><p>장점</p><ul><li>코드를 더 간결하게 정리할 수 있다.<li>유지보수가 쉽다.<li>자체적으로 데이터를 처리해 메모리 효율이 좋다.</ul><p>단점</p><ul><li>남용할 경우 오히려 더 이해하기 어려운 코드가 만들어진다.<li>내부 실행으로 디버깅이 까다로워 질 수 있다.<li>경우에 따라 수동 코드보다 상당히 느릴 수 있다. 내부 구조를 더 잘 이해를 해야한다.<li>즉시 수행에 대해 조심 해야 한다. 몇몇 누적 연산자와 연산자들은 원본 시퀀스를 반복한다. 이러한 경우에는 LinQ의 장점인 메모리 효율이 저하 된다.</ul><hr /><p>참고 링크 : <a href="https://docs.microsoft.com/ko-kr/dotnet/csharp/linq/write-linq-queries"><strong>MS API 문서 - 1</strong></a> <a href="https://docs.microsoft.com/ko-kr/dotnet/csharp/linq/"><strong>MS API 문서 - 2</strong></a> <a href="https://medium.com/@qjfrntop12/linq-%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0-bc2c60dfca4f"><strong>시프트님 블로그</strong></a></p></div><div class="post-tail-wrapper text-muted"><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text= - EnRU&url=https://angeluen.github.io/posts/2021-12-08-c-LinQ/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title= - EnRU&u=https://angeluen.github.io/posts/2021-12-08-c-LinQ/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text= - EnRU&url=https://angeluen.github.io/posts/2021-12-08-c-LinQ/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/2021-12-08-c-LinQ/"></a><li><a href="/posts/c-dictionary/">C#-01 Dictionary</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">C#</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/c-dictionary/"><div class="card-body"> <span class="timeago small" >Dec 1<i class="unloaded">2021-12-01T10:33:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>C#-01 Dictionary</h3><div class="text-muted small"><p> 01. Dictionary KeyValuePair 방식으로 Key 값을 이용해 Value를 가져오는 방식이다. 내부는 HashTable 구조로 구현되며 값을 검색하면 O(1)의 시간 복잡도로 검색 작업이 된다. 주어진 키를 HashCode(정수)로 바꾸고, 이를 적당한 알고리즘을 통해 HashKey로 바꾼다. Dictionary는 충돌을 해결하...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/c-dictionary/" class="btn btn-outline-primary" prompt="Older"><p>C#-01 Dictionary</p></a> <span class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></span></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/angeluen">kimminjun</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/c/">C#</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
